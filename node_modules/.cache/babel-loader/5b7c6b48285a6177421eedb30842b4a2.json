{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Pagination = _interopRequireDefault(require(\"./Pagination\"));\n\nvar _ErrorPage = _interopRequireDefault(require(\"./ErrorPage\"));\n\nvar _SearchCharacter = _interopRequireDefault(require(\"./SearchCharacter\"));\n\nrequire(\"../App.css\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nconst md5 = require(\"blueimp-md5\");\n\nconst publickey = \"3566d8678ffd4f14090725b3e5820164\";\nconst privatekey = \"732b5371030a1937f9f87a214a07713812ea681c\";\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nconst baseUrl = \"https://gateway.marvel.com:443/v1/public/characters\";\nconst url = baseUrl + \"?ts=\" + ts + \"&apikey=\" + publickey + \"&hash=\" + hash;\nconst LIMIT = 20;\n\nconst Characters = () => {\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [showsData, setShowsData] = (0, _react.useState)({});\n  const [nextPage, setNextPage] = (0, _react.useState)(true);\n  const [previousPage, setPreviousPage] = (0, _react.useState)(false);\n  const [error, setError] = (0, _react.useState)(false);\n  const [searchData, setSearchData] = (0, _react.useState)(undefined);\n  const [searchTerm, setSearchTerm] = (0, _react.useState)(\"\");\n  let {\n    page\n  } = (0, _reactRouterDom.useParams)();\n  page = parseInt(typeof page === \"undefined\" ? 0 : page);\n  (0, _react.useEffect)(() => {\n    async function fetchData() {\n      try {\n        const {\n          data\n        } = await _axios.default.get(url + \"&offset=\" + page * LIMIT);\n        setShowsData(data.data.results);\n        setLoading(false);\n        data.data.results.length === 0 ? setError(true) : setError(false);\n        page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n        page + 1 >= Math.ceil(data.data.total / LIMIT) ? setNextPage(false) : setNextPage(true);\n      } catch (e) {\n        setLoading(false);\n        setNextPage(false);\n        setError(true);\n        console.log(e);\n      }\n    }\n\n    fetchData();\n  }, [page]);\n  (0, _react.useEffect)(() => {\n    async function fetchData() {\n      try {\n        const {\n          data\n        } = await _axios.default.get(url + \"&nameStartsWith=\" + searchTerm);\n        setSearchData(data.data.results);\n        setLoading(false);\n        setPreviousPage(false);\n        setNextPage(false);\n      } catch (e) {\n        setLoading(true);\n        setNextPage(false);\n        setError(true);\n        console.log(e);\n      }\n    }\n\n    if (searchTerm) {\n      fetchData();\n    } else {\n      page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n      setNextPage(true);\n    }\n  }, [searchTerm]);\n\n  const searchValue = async value => {\n    setSearchTerm(value);\n  };\n\n  if (page >= 0) {\n    if (loading) {\n      return _react.default.createElement(\"div\", null, error ? _react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }) : _react.default.createElement(\"h2\", null, \"Loading....\", _react.default.createElement(\"br\", null), _react.default.createElement(\"br\", null), \"Wait please\"));\n    } else {\n      return _react.default.createElement(_react.default.Fragment, null, error ? _react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }) : _react.default.createElement(\"div\", {\n        className: \"p-3 mb-2 bg-dark text-white\"\n      }, _react.default.createElement(\"h2\", null, \"Characters\"), _react.default.createElement(_SearchCharacter.default, {\n        searchValue: searchValue,\n        callFrom: \"Character\"\n      }), _react.default.createElement(\"br\", null), _react.default.createElement(_Pagination.default, {\n        page: page,\n        nextPage: nextPage,\n        previousPage: previousPage,\n        callFrom: \"Characters\"\n      }), _react.default.createElement(\"div\", {\n        className: \"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"\n      }, searchTerm ? searchData && searchData.map(chars => {\n        const {\n          id,\n          name\n        } = chars;\n        return _react.default.createElement(\"div\", {\n          className: \"col\",\n          key: id\n        }, _react.default.createElement(\"div\", {\n          className: \"card text-white bg-dark mb-3 border-light h-100\"\n        }, _react.default.createElement(_reactRouterDom.Link, {\n          to: `/characters/${id}`\n        }, _react.default.createElement(\"img\", {\n          src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n          className: \"card-img-top img-thumbnail\",\n          alt: name,\n          \"aria-label\": \"Character Logo\"\n        }), _react.default.createElement(\"div\", {\n          className: \"card-body\"\n        }, _react.default.createElement(\"h3\", {\n          className: \"card-title\"\n        }, name)))));\n      }) : showsData.map(chars => {\n        const {\n          id,\n          name\n        } = chars;\n        return _react.default.createElement(\"div\", {\n          className: \"col\",\n          key: id\n        }, _react.default.createElement(\"div\", {\n          className: \"card text-white bg-dark mb-3 border-light h-100\"\n        }, _react.default.createElement(_reactRouterDom.Link, {\n          to: `/characters/${id}`\n        }, _react.default.createElement(\"img\", {\n          src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n          className: \"card-img-top img-thumbnail\",\n          alt: name,\n          \"aria-label\": \"Character Logo\"\n        }), _react.default.createElement(\"div\", {\n          className: \"card-body\"\n        }, _react.default.createElement(\"h3\", {\n          className: \"card-title\"\n        }, name)))));\n      })), _react.default.createElement(_Pagination.default, {\n        page: page,\n        nextPage: nextPage,\n        previousPage: previousPage,\n        callFrom: \"Characters\"\n      })));\n    }\n  } else {\n    return _react.default.createElement(\"div\", null, _react.default.createElement(_ErrorPage.default, {\n      name: \"Page\"\n    }), \" \");\n  }\n};\n\n_c = Characters;\nvar _default = Characters;\nexports.default = _default;\n\nvar _c;\n\n$RefreshReg$(_c, \"Characters\");","map":{"version":3,"sources":["C:/Users/donni/Downloads/marvelapireactjsx-main/marvelapireactjsx-main/src/components/Characters.jsx"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_axios","_interopRequireDefault","_reactRouterDom","_Pagination","_ErrorPage","_SearchCharacter","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","md5","publickey","privatekey","ts","Date","getTime","stringToHash","hash","baseUrl","url","LIMIT","Characters","loading","setLoading","useState","showsData","setShowsData","nextPage","setNextPage","previousPage","setPreviousPage","error","setError","searchData","setSearchData","undefined","searchTerm","setSearchTerm","page","useParams","parseInt","useEffect","fetchData","data","results","length","Math","ceil","total","e","console","log","searchValue","createElement","name","Fragment","className","callFrom","map","chars","id","Link","to","src","thumbnail","path","extension","alt","_default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _reactRouterDom = require(\"react-router-dom\");\nvar _Pagination = _interopRequireDefault(require(\"./Pagination\"));\nvar _ErrorPage = _interopRequireDefault(require(\"./ErrorPage\"));\nvar _SearchCharacter = _interopRequireDefault(require(\"./SearchCharacter\"));\nrequire(\"../App.css\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== \"object\" && typeof obj !== \"function\")) {\n    return { default: obj };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nconst md5 = require(\"blueimp-md5\");\nconst publickey = \"3566d8678ffd4f14090725b3e5820164\";\nconst privatekey = \"732b5371030a1937f9f87a214a07713812ea681c\";\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nconst baseUrl = \"https://gateway.marvel.com:443/v1/public/characters\";\nconst url = baseUrl + \"?ts=\" + ts + \"&apikey=\" + publickey + \"&hash=\" + hash;\nconst LIMIT = 20;\nconst Characters = () => {\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [showsData, setShowsData] = (0, _react.useState)({});\n  const [nextPage, setNextPage] = (0, _react.useState)(true);\n  const [previousPage, setPreviousPage] = (0, _react.useState)(false);\n  const [error, setError] = (0, _react.useState)(false);\n  const [searchData, setSearchData] = (0, _react.useState)(undefined);\n  const [searchTerm, setSearchTerm] = (0, _react.useState)(\"\");\n  let { page } = (0, _reactRouterDom.useParams)();\n  page = parseInt(typeof page === \"undefined\" ? 0 : page);\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&offset=\" + page * LIMIT);\n          setShowsData(data.data.results);\n          setLoading(false);\n          data.data.results.length === 0 ? setError(true) : setError(false);\n          page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n          page + 1 >= Math.ceil(data.data.total / LIMIT) ? setNextPage(false) : setNextPage(true);\n        } catch (e) {\n          setLoading(false);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      fetchData();\n    },\n    [page]\n  );\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&nameStartsWith=\" + searchTerm);\n          setSearchData(data.data.results);\n          setLoading(false);\n          setPreviousPage(false);\n          setNextPage(false);\n        } catch (e) {\n          setLoading(true);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      if (searchTerm) {\n        fetchData();\n      } else {\n        page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n        setNextPage(true);\n      }\n    },\n    [searchTerm]\n  );\n  const searchValue = async value => {\n    setSearchTerm(value);\n  };\n  if (page >= 0) {\n    if (loading) {\n      return  _react.default.createElement(\n        \"div\",\n        null,\n        error\n          ?  _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          : _react.default.createElement(\"h2\", null, \"Loading....\",  _react.default.createElement(\"br\", null),  _react.default.createElement(\"br\", null), \"Wait please\")\n      );\n    } else {\n      return  _react.default.createElement(\n        _react.default.Fragment,\n        null,\n        error\n          ?  _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          :  _react.default.createElement(\n              \"div\",\n              {\n                className: \"p-3 mb-2 bg-dark text-white\"\n              },\n               _react.default.createElement(\"h2\", null, \"Characters\"),\n               _react.default.createElement(_SearchCharacter.default, {\n                searchValue: searchValue,\n                callFrom: \"Character\"\n              }),\n               _react.default.createElement(\"br\", null),\n               _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Characters\"\n              }),\n              _react.default.createElement(\n                \"div\",\n                {\n                  className: \"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"\n                },\n                searchTerm\n                  ? searchData &&\n                    searchData.map(chars => {\n                      const { id, name } = chars;\n                      return  _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                         _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                           _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/characters/${id}`\n                            },\n                            _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: name,\n                              \"aria-label\": \"Character Logo\"\n                            }),\n                             _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                             _react.default.createElement(\n                                \"h3\",\n                                {\n                                  className: \"card-title\"\n                                },\n                                name\n                              )\n                            )\n                          )\n                        )\n                      );\n                    })\n                  : showsData.map(chars => {\n                      const { id, name } = chars;\n                      return  _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                         _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                           _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/characters/${id}`\n                            },\n                             _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: name,\n                              \"aria-label\": \"Character Logo\"\n                            }),\n                             _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                               _react.default.createElement(\n                                \"h3\",\n                                {\n                                  className: \"card-title\"\n                                },\n                                name\n                              )\n                            )\n                          )\n                        )\n                      );\n                    })\n              ),\n               _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Characters\"\n              })\n            )\n      );\n    }\n  } else {\n    return  _react.default.createElement(\n      \"div\",\n      null,\n       _react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }),\n      \" \"\n    );\n  }\n};\nvar _default = Characters;\nexports.default = _default;\n"]},"metadata":{},"sourceType":"module"}