{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _Pagination = _interopRequireDefault(require(\"./Pagination\"));\n\nvar _ErrorPage = _interopRequireDefault(require(\"./ErrorPage\"));\n\nvar _SearchCharacter = _interopRequireDefault(require(\"./SearchCharacter\"));\n\nrequire(\"../App.css\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nconst md5 = require(\"blueimp-md5\");\n\nconst publickey = \"823f95248f5219478645077541bda18f\";\nconst privatekey = \"878100d253b4d09f7df66348df00db2996a33bee\";\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nconst baseUrl = \"https://gateway.marvel.com:443/v1/public/comics\";\nconst url = baseUrl + \"?ts=\" + ts + \"&apikey=\" + publickey + \"&hash=\" + hash;\nconst LIMIT = 20;\n\nconst Comics = () => {\n  const [showsComics, setComicsData] = (0, _react.useState)([]);\n  const [nextPage, setNextPage] = (0, _react.useState)(true);\n  const [previousPage, setPreviousPage] = (0, _react.useState)(false);\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [error, setError] = (0, _react.useState)(false);\n  const [searchData, setSearchData] = (0, _react.useState)(undefined);\n  const [searchTerm, setSearchTerm] = (0, _react.useState)(\"\");\n  let {\n    page\n  } = (0, _reactRouterDom.useParams)();\n  page = parseInt(typeof page === \"undefined\" ? 0 : page);\n  (0, _react.useEffect)(() => {\n    async function fetchData() {\n      try {\n        const {\n          data\n        } = await _axios.default.get(url + \"&offset=\" + page * LIMIT);\n        setComicsData(data.data.results);\n        setLoading(false);\n        data.data.results.length === 0 ? setError(true) : setError(false);\n        page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n        page + 1 >= Math.ceil(data.data.total / LIMIT) ? setNextPage(false) : setNextPage(true);\n      } catch (e) {\n        setLoading(true);\n        setNextPage(false);\n        setError(true);\n        console.log(e);\n      }\n    }\n\n    fetchData();\n  }, [page]);\n  (0, _react.useEffect)(() => {\n    async function fetchData() {\n      try {\n        const {\n          data\n        } = await _axios.default.get(url + \"&titleStartsWith=\" + searchTerm);\n        setSearchData(data.data.results);\n        setLoading(false);\n        setPreviousPage(false);\n        setNextPage(false);\n      } catch (e) {\n        setLoading(true);\n        setNextPage(false);\n        setError(true);\n        console.log(e);\n      }\n    }\n\n    if (searchTerm) {\n      fetchData();\n    } else {\n      page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n      setNextPage(true);\n    }\n  }, [searchTerm]);\n\n  const searchValue = async value => {\n    setSearchTerm(value);\n  };\n\n  if (page >= 0) {\n    if (loading) {\n      return /*#__PURE__*/_react.default.createElement(\"div\", null, error ? /*#__PURE__*/_react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }) : /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Loading....\", /*#__PURE__*/_react.default.createElement(\"br\", null), /*#__PURE__*/_react.default.createElement(\"br\", null), \"Wait please\"));\n    } else {\n      return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, error ? /*#__PURE__*/_react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }) : /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"p-3 mb-2 bg-dark text-white\"\n      }, /*#__PURE__*/_react.default.createElement(\"h2\", null, \"Comics\"), /*#__PURE__*/_react.default.createElement(_SearchCharacter.default, {\n        searchValue: searchValue,\n        callFrom: \"Comics\"\n      }), /*#__PURE__*/_react.default.createElement(\"br\", null), /*#__PURE__*/_react.default.createElement(_Pagination.default, {\n        page: page,\n        nextPage: nextPage,\n        previousPage: previousPage,\n        callFrom: \"Comics\"\n      }), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"\n      }, searchTerm ? searchData && searchData.map(chars => {\n        const {\n          id,\n          title\n        } = chars;\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"col\",\n          key: id\n        }, /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"card text-white bg-dark mb-3 border-light h-100\"\n        }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Link, {\n          to: `/comics/${id}`\n        }, /*#__PURE__*/_react.default.createElement(\"img\", {\n          src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n          className: \"card-img-top img-thumbnail\",\n          alt: title,\n          \"aria-label\": \"Comics Logo\"\n        }), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"card-body\"\n        }, /*#__PURE__*/_react.default.createElement(\"h4\", null, title)))));\n      }) : showsComics.map(chars => {\n        const {\n          id,\n          title\n        } = chars;\n        return /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"col\",\n          key: id\n        }, /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"card text-white bg-dark mb-3 border-light h-100\"\n        }, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Link, {\n          to: `/comics/${id}`\n        }, /*#__PURE__*/_react.default.createElement(\"img\", {\n          src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n          className: \"card-img-top img-thumbnail\",\n          alt: title,\n          \"aria-label\": \"Comics Logo\"\n        }), /*#__PURE__*/_react.default.createElement(\"div\", {\n          className: \"card-body\"\n        }, /*#__PURE__*/_react.default.createElement(\"h4\", null, title)))));\n      })), /*#__PURE__*/_react.default.createElement(_Pagination.default, {\n        page: page,\n        nextPage: nextPage,\n        previousPage: previousPage,\n        callFrom: \"Comics\"\n      })));\n    }\n  } else {\n    return /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_ErrorPage.default, {\n      name: \"Page\"\n    }), \" \");\n  }\n};\n\n_c = Comics;\nvar _default = Comics;\nexports.default = _default;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comics\");","map":{"version":3,"sources":["C:/Users/donni/Downloads/marvelapireactjsx-main/marvelapireactjsx-main/src/components/Comics.jsx"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_axios","_interopRequireDefault","_reactRouterDom","_Pagination","_ErrorPage","_SearchCharacter","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","md5","publickey","privatekey","ts","Date","getTime","stringToHash","hash","baseUrl","url","LIMIT","Comics","showsComics","setComicsData","useState","nextPage","setNextPage","previousPage","setPreviousPage","loading","setLoading","error","setError","searchData","setSearchData","undefined","searchTerm","setSearchTerm","page","useParams","parseInt","useEffect","fetchData","data","results","length","Math","ceil","total","e","console","log","searchValue","createElement","name","Fragment","className","callFrom","map","chars","id","title","Link","to","src","thumbnail","path","extension","alt","_default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _reactRouterDom = require(\"react-router-dom\");\nvar _Pagination = _interopRequireDefault(require(\"./Pagination\"));\nvar _ErrorPage = _interopRequireDefault(require(\"./ErrorPage\"));\nvar _SearchCharacter = _interopRequireDefault(require(\"./SearchCharacter\"));\nrequire(\"../App.css\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== \"object\" && typeof obj !== \"function\")) {\n    return { default: obj };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nconst md5 = require(\"blueimp-md5\");\nconst publickey = \"823f95248f5219478645077541bda18f\";\nconst privatekey = \"878100d253b4d09f7df66348df00db2996a33bee\";\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nconst baseUrl = \"https://gateway.marvel.com:443/v1/public/comics\";\nconst url = baseUrl + \"?ts=\" + ts + \"&apikey=\" + publickey + \"&hash=\" + hash;\nconst LIMIT = 20;\nconst Comics = () => {\n  const [showsComics, setComicsData] = (0, _react.useState)([]);\n  const [nextPage, setNextPage] = (0, _react.useState)(true);\n  const [previousPage, setPreviousPage] = (0, _react.useState)(false);\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [error, setError] = (0, _react.useState)(false);\n  const [searchData, setSearchData] = (0, _react.useState)(undefined);\n  const [searchTerm, setSearchTerm] = (0, _react.useState)(\"\");\n  let { page } = (0, _reactRouterDom.useParams)();\n  page = parseInt(typeof page === \"undefined\" ? 0 : page);\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&offset=\" + page * LIMIT);\n          setComicsData(data.data.results);\n          setLoading(false);\n          data.data.results.length === 0 ? setError(true) : setError(false);\n          page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n          page + 1 >= Math.ceil(data.data.total / LIMIT) ? setNextPage(false) : setNextPage(true);\n        } catch (e) {\n          setLoading(true);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      fetchData();\n    },\n    [page]\n  );\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&titleStartsWith=\" + searchTerm);\n          setSearchData(data.data.results);\n          setLoading(false);\n          setPreviousPage(false);\n          setNextPage(false);\n        } catch (e) {\n          setLoading(true);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      if (searchTerm) {\n        fetchData();\n      } else {\n        page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n        setNextPage(true);\n      }\n    },\n    [searchTerm]\n  );\n  const searchValue = async value => {\n    setSearchTerm(value);\n  };\n  if (page >= 0) {\n    if (loading) {\n      return /*#__PURE__*/ _react.default.createElement(\n        \"div\",\n        null,\n        error\n          ? /*#__PURE__*/ _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          : /*#__PURE__*/ _react.default.createElement(\"h2\", null, \"Loading....\", /*#__PURE__*/ _react.default.createElement(\"br\", null), /*#__PURE__*/ _react.default.createElement(\"br\", null), \"Wait please\")\n      );\n    } else {\n      return /*#__PURE__*/ _react.default.createElement(\n        _react.default.Fragment,\n        null,\n        error\n          ? /*#__PURE__*/ _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          : /*#__PURE__*/ _react.default.createElement(\n              \"div\",\n              {\n                className: \"p-3 mb-2 bg-dark text-white\"\n              },\n              /*#__PURE__*/ _react.default.createElement(\"h2\", null, \"Comics\"),\n              /*#__PURE__*/ _react.default.createElement(_SearchCharacter.default, {\n                searchValue: searchValue,\n                callFrom: \"Comics\"\n              }),\n              /*#__PURE__*/ _react.default.createElement(\"br\", null),\n              /*#__PURE__*/ _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Comics\"\n              }),\n              /*#__PURE__*/ _react.default.createElement(\n                \"div\",\n                {\n                  className: \"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"\n                },\n                searchTerm\n                  ? searchData &&\n                    searchData.map(chars => {\n                      const { id, title } = chars;\n                      return /*#__PURE__*/ _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                        /*#__PURE__*/ _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                          /*#__PURE__*/ _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/comics/${id}`\n                            },\n                            /*#__PURE__*/ _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: title,\n                              \"aria-label\": \"Comics Logo\"\n                            }),\n                            /*#__PURE__*/ _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                              /*#__PURE__*/ _react.default.createElement(\"h4\", null, title)\n                            )\n                          )\n                        )\n                      );\n                    })\n                  : showsComics.map(chars => {\n                      const { id, title } = chars;\n                      return /*#__PURE__*/ _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                        /*#__PURE__*/ _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                          /*#__PURE__*/ _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/comics/${id}`\n                            },\n                            /*#__PURE__*/ _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: title,\n                              \"aria-label\": \"Comics Logo\"\n                            }),\n                            /*#__PURE__*/ _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                              /*#__PURE__*/ _react.default.createElement(\"h4\", null, title)\n                            )\n                          )\n                        )\n                      );\n                    })\n              ),\n              /*#__PURE__*/ _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Comics\"\n              })\n            )\n      );\n    }\n  } else {\n    return /*#__PURE__*/ _react.default.createElement(\n      \"div\",\n      null,\n      /*#__PURE__*/ _react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }),\n      \" \"\n    );\n  }\n};\nvar _default = Comics;\nexports.default = _default;\n"]},"metadata":{},"sourceType":"module"}