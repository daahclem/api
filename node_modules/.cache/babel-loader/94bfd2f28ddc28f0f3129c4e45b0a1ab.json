{"ast":null,"code":"\"use strict\";import _asyncToGenerator from\"C:/Users/donni/Desktop/marvel-comic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/donni/Desktop/marvel-comic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\donni\\\\Desktop\\\\marvel-comic\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _axios=_interopRequireDefault(require(\"axios\"));var _reactRouterDom=require(\"react-router-dom\");var _Pagination=_interopRequireDefault(require(\"./Pagination\"));var _ErrorPage=_interopRequireDefault(require(\"./ErrorPage\"));var _SearchCharacter=_interopRequireDefault(require(\"./SearchCharacter\"));require(\"../App.css\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}var md5=require(\"blueimp-md5\");var publickey=\"3566d8678ffd4f14090725b3e5820164\";var privatekey=\"732b5371030a1937f9f87a214a07713812ea681c\";var ts=new Date().getTime();var stringToHash=ts+privatekey+publickey;var hash=md5(stringToHash);var baseUrl=\"https://gateway.marvel.com:443/v1/public/characters\";var url=baseUrl+\"?ts=\"+ts+\"&apikey=\"+publickey+\"&hash=\"+hash;var LIMIT=20;var Characters=function Characters(){var _ref=(0,_react.useState)(true),_ref2=_slicedToArray(_ref,2),loading=_ref2[0],setLoading=_ref2[1];var _ref3=(0,_react.useState)({}),_ref4=_slicedToArray(_ref3,2),showsData=_ref4[0],setShowsData=_ref4[1];var _ref5=(0,_react.useState)(true),_ref6=_slicedToArray(_ref5,2),nextPage=_ref6[0],setNextPage=_ref6[1];var _ref7=(0,_react.useState)(false),_ref8=_slicedToArray(_ref7,2),previousPage=_ref8[0],setPreviousPage=_ref8[1];var _ref9=(0,_react.useState)(false),_ref10=_slicedToArray(_ref9,2),error=_ref10[0],setError=_ref10[1];var _ref11=(0,_react.useState)(undefined),_ref12=_slicedToArray(_ref11,2),searchData=_ref12[0],setSearchData=_ref12[1];var _ref13=(0,_react.useState)(\"\"),_ref14=_slicedToArray(_ref13,2),searchTerm=_ref14[0],setSearchTerm=_ref14[1];var _ref15=(0,_reactRouterDom.useParams)(),page=_ref15.page;page=parseInt(typeof page===\"undefined\"?0:page);(0,_react.useEffect)(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$_axios$default,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _axios.default.get(url+\"&offset=\"+page*LIMIT);case 3:_yield$_axios$default=_context.sent;data=_yield$_axios$default.data;setShowsData(data.data.results);setLoading(false);data.data.results.length===0?setError(true):setError(false);page>0?setPreviousPage(true):setPreviousPage(false);page+1>=Math.ceil(data.data.total/LIMIT)?setNextPage(false):setNextPage(true);_context.next=18;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setLoading(false);setNextPage(false);setError(true);console.log(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return _fetchData.apply(this,arguments);}fetchData();},[page]);(0,_react.useEffect)(function(){function fetchData(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$_axios$default2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _axios.default.get(url+\"&nameStartsWith=\"+searchTerm);case 3:_yield$_axios$default2=_context2.sent;data=_yield$_axios$default2.data;setSearchData(data.data.results);setLoading(false);setPreviousPage(false);setNextPage(false);_context2.next=17;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);setLoading(true);setNextPage(false);setError(true);console.log(_context2.t0);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return _fetchData2.apply(this,arguments);}if(searchTerm){fetchData();}else{page>0?setPreviousPage(true):setPreviousPage(false);setNextPage(true);}},[searchTerm]);var searchValue=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setSearchTerm(value);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function searchValue(_x){return _ref16.apply(this,arguments);};}();if(page>=0){if(loading){return _react.default.createElement(\"div\",null,error?_react.default.createElement(_ErrorPage.default,{name:\"Page\"}):_react.default.createElement(\"h2\",null,\"Loading....\",_react.default.createElement(\"br\",null),_react.default.createElement(\"br\",null),\"Wait please\"));}else{return _react.default.createElement(_react.default.Fragment,null,error?_react.default.createElement(_ErrorPage.default,{name:\"Page\"}):_react.default.createElement(\"div\",{className:\"p-3 mb-2 bg-dark text-white\"},_react.default.createElement(\"h2\",null,\"Characters\"),_react.default.createElement(_SearchCharacter.default,{searchValue:searchValue,callFrom:\"Character\"}),_react.default.createElement(\"br\",null),_react.default.createElement(_Pagination.default,{page:page,nextPage:nextPage,previousPage:previousPage,callFrom:\"Characters\"}),_react.default.createElement(\"div\",{className:\"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"},searchTerm?searchData&&searchData.map(function(chars){var id=chars.id,name=chars.name;return _react.default.createElement(\"div\",{className:\"col\",key:id},_react.default.createElement(\"div\",{className:\"card text-white bg-dark mb-3 border-light h-100\"},_react.default.createElement(_reactRouterDom.Link,{to:\"/characters/\".concat(id)},_react.default.createElement(\"img\",{src:\"\".concat(chars.thumbnail.path,\".\").concat(chars.thumbnail.extension),className:\"card-img-top img-thumbnail\",alt:name,\"aria-label\":\"Character Logo\"}),_react.default.createElement(\"div\",{className:\"card-body\"},_react.default.createElement(\"h3\",{className:\"card-title\"},name)))));}):showsData.map(function(chars){var id=chars.id,name=chars.name;return _react.default.createElement(\"div\",{className:\"col\",key:id},_react.default.createElement(\"div\",{className:\"card text-white bg-dark mb-3 border-light h-100\"},_react.default.createElement(_reactRouterDom.Link,{to:\"/characters/\".concat(id)},_react.default.createElement(\"img\",{src:\"\".concat(chars.thumbnail.path,\".\").concat(chars.thumbnail.extension),className:\"card-img-top img-thumbnail\",alt:name,\"aria-label\":\"Character Logo\"}),_react.default.createElement(\"div\",{className:\"card-body\"},_react.default.createElement(\"h3\",{className:\"card-title\"},name)))));})),_react.default.createElement(_Pagination.default,{page:page,nextPage:nextPage,previousPage:previousPage,callFrom:\"Characters\"})));}}else{return _react.default.createElement(\"div\",null,_react.default.createElement(_ErrorPage.default,{name:\"Page\"}),\" \");}};var _default=Characters;exports.default=_default;","map":{"version":3,"sources":["C:/Users/donni/Desktop/marvel-comic/src/components/Characters.jsx"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireWildcard","require","_axios","_interopRequireDefault","_reactRouterDom","_Pagination","_ErrorPage","_SearchCharacter","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","md5","publickey","privatekey","ts","Date","getTime","stringToHash","hash","baseUrl","url","LIMIT","Characters","useState","loading","setLoading","showsData","setShowsData","nextPage","setNextPage","previousPage","setPreviousPage","error","setError","undefined","searchData","setSearchData","searchTerm","setSearchTerm","useParams","page","parseInt","useEffect","fetchData","data","results","length","Math","ceil","total","console","log","searchValue","createElement","name","Fragment","className","callFrom","map","chars","id","Link","to","src","thumbnail","path","extension","alt","_default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _reactRouterDom = require(\"react-router-dom\");\nvar _Pagination = _interopRequireDefault(require(\"./Pagination\"));\nvar _ErrorPage = _interopRequireDefault(require(\"./ErrorPage\"));\nvar _SearchCharacter = _interopRequireDefault(require(\"./SearchCharacter\"));\nrequire(\"../App.css\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || (typeof obj !== \"object\" && typeof obj !== \"function\")) {\n    return { default: obj };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nconst md5 = require(\"blueimp-md5\");\nconst publickey = \"3566d8678ffd4f14090725b3e5820164\";\nconst privatekey = \"732b5371030a1937f9f87a214a07713812ea681c\";\nconst ts = new Date().getTime();\nconst stringToHash = ts + privatekey + publickey;\nconst hash = md5(stringToHash);\nconst baseUrl = \"https://gateway.marvel.com:443/v1/public/characters\";\nconst url = baseUrl + \"?ts=\" + ts + \"&apikey=\" + publickey + \"&hash=\" + hash;\nconst LIMIT = 20;\nconst Characters = () => {\n  const [loading, setLoading] = (0, _react.useState)(true);\n  const [showsData, setShowsData] = (0, _react.useState)({});\n  const [nextPage, setNextPage] = (0, _react.useState)(true);\n  const [previousPage, setPreviousPage] = (0, _react.useState)(false);\n  const [error, setError] = (0, _react.useState)(false);\n  const [searchData, setSearchData] = (0, _react.useState)(undefined);\n  const [searchTerm, setSearchTerm] = (0, _react.useState)(\"\");\n  let { page } = (0, _reactRouterDom.useParams)();\n  page = parseInt(typeof page === \"undefined\" ? 0 : page);\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&offset=\" + page * LIMIT);\n          setShowsData(data.data.results);\n          setLoading(false);\n          data.data.results.length === 0 ? setError(true) : setError(false);\n          page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n          page + 1 >= Math.ceil(data.data.total / LIMIT) ? setNextPage(false) : setNextPage(true);\n        } catch (e) {\n          setLoading(false);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      fetchData();\n    },\n    [page]\n  );\n  (0, _react.useEffect)(\n    () => {\n      async function fetchData() {\n        try {\n          const { data } = await _axios.default.get(url + \"&nameStartsWith=\" + searchTerm);\n          setSearchData(data.data.results);\n          setLoading(false);\n          setPreviousPage(false);\n          setNextPage(false);\n        } catch (e) {\n          setLoading(true);\n          setNextPage(false);\n          setError(true);\n          console.log(e);\n        }\n      }\n      if (searchTerm) {\n        fetchData();\n      } else {\n        page > 0 ? setPreviousPage(true) : setPreviousPage(false);\n        setNextPage(true);\n      }\n    },\n    [searchTerm]\n  );\n  const searchValue = async value => {\n    setSearchTerm(value);\n  };\n  if (page >= 0) {\n    if (loading) {\n      return  _react.default.createElement(\n        \"div\",\n        null,\n        error\n          ?  _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          : _react.default.createElement(\"h2\", null, \"Loading....\",  _react.default.createElement(\"br\", null),  _react.default.createElement(\"br\", null), \"Wait please\")\n      );\n    } else {\n      return  _react.default.createElement(\n        _react.default.Fragment,\n        null,\n        error\n          ?  _react.default.createElement(_ErrorPage.default, {\n              name: \"Page\"\n            })\n          :  _react.default.createElement(\n              \"div\",\n              {\n                className: \"p-3 mb-2 bg-dark text-white\"\n              },\n               _react.default.createElement(\"h2\", null, \"Characters\"),\n               _react.default.createElement(_SearchCharacter.default, {\n                searchValue: searchValue,\n                callFrom: \"Character\"\n              }),\n               _react.default.createElement(\"br\", null),\n               _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Characters\"\n              }),\n              _react.default.createElement(\n                \"div\",\n                {\n                  className: \"row row-col-sm-2  row-cols-md-3  row-cols-lg-4 g-5 my-3 mx-4\"\n                },\n                searchTerm\n                  ? searchData &&\n                    searchData.map(chars => {\n                      const { id, name } = chars;\n                      return  _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                         _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                           _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/characters/${id}`\n                            },\n                            _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: name,\n                              \"aria-label\": \"Character Logo\"\n                            }),\n                             _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                             _react.default.createElement(\n                                \"h3\",\n                                {\n                                  className: \"card-title\"\n                                },\n                                name\n                              )\n                            )\n                          )\n                        )\n                      );\n                    })\n                  : showsData.map(chars => {\n                      const { id, name } = chars;\n                      return  _react.default.createElement(\n                        \"div\",\n                        {\n                          className: \"col\",\n                          key: id\n                        },\n                         _react.default.createElement(\n                          \"div\",\n                          {\n                            className: \"card text-white bg-dark mb-3 border-light h-100\"\n                          },\n                           _react.default.createElement(\n                            _reactRouterDom.Link,\n                            {\n                              to: `/characters/${id}`\n                            },\n                             _react.default.createElement(\"img\", {\n                              src: `${chars.thumbnail.path}.${chars.thumbnail.extension}`,\n                              className: \"card-img-top img-thumbnail\",\n                              alt: name,\n                              \"aria-label\": \"Character Logo\"\n                            }),\n                             _react.default.createElement(\n                              \"div\",\n                              {\n                                className: \"card-body\"\n                              },\n                               _react.default.createElement(\n                                \"h3\",\n                                {\n                                  className: \"card-title\"\n                                },\n                                name\n                              )\n                            )\n                          )\n                        )\n                      );\n                    })\n              ),\n               _react.default.createElement(_Pagination.default, {\n                page: page,\n                nextPage: nextPage,\n                previousPage: previousPage,\n                callFrom: \"Characters\"\n              })\n            )\n      );\n    }\n  } else {\n    return  _react.default.createElement(\n      \"div\",\n      null,\n       _react.default.createElement(_ErrorPage.default, {\n        name: \"Page\"\n      }),\n      \" \"\n    );\n  }\n};\nvar _default = Characters;\nexports.default = _default;\n"]},"metadata":{},"sourceType":"module"}